diff --git a/cmake/FcitxMacro.cmake b/cmake/FcitxMacro.cmake
index ca46497..05f3830 100644
--- a/cmake/FcitxMacro.cmake
+++ b/cmake/FcitxMacro.cmake
@@ -638,6 +638,10 @@ function(fcitx_translate_add_apply_source in_file out_file)
     "Cannot find a rule to convert ${in_file} to ${out_file}")
 endfunction()
 
+if(NOT DEFINED FCITX_PO_INSTALL_DIR)
+  set(FCITX_PO_INSTALL_DIR share/locale/)
+endif()
+
 # Should be used in cmake modules, add a handler script to update a set of
 # certain type of files from the translated mo files.
 # The script must be executable.
@@ -719,7 +723,7 @@ function(fcitx_translate_set_pot_target target domain pot_file)
         -o "${po_dir}/${domain}.mo" "${po_file}"
         DEPENDS "${po_file}")
       install(FILES "${po_dir}/${domain}.mo"
-        DESTINATION "share/locale/${po_lang}/LC_MESSAGES")
+        DESTINATION "${FCITX_PO_INSTALL_DIR}/${po_lang}/LC_MESSAGES")
       list(APPEND all_mo_files "${po_dir}/${domain}.mo")
       list(APPEND all_po_files "${po_file}")
     endforeach()
diff --git a/cmake/UseDoxygen.cmake b/cmake/UseDoxygen.cmake
index b52b3fc..b92370f 100644
--- a/cmake/UseDoxygen.cmake
+++ b/cmake/UseDoxygen.cmake
@@ -134,8 +134,7 @@ if(DOXYGEN_FOUND AND DOXYFILE_IN_FOUND)
 
 	configure_file("${DOXYFILE_IN}" "${DOXYFILE}" @ONLY)
 
-	get_target_property(DOC_TARGET doc TYPE)
-	if(NOT DOC_TARGET)
+	if(NOT TARGET doc)
 		add_custom_target(doc)
 	endif()
 
diff --git a/po/de.po b/po/de.po
index 4220057..90c6fb7 100644
--- a/po/de.po
+++ b/po/de.po
@@ -4,15 +4,16 @@
 #
 # Translators:
 # mar well <m.wellendorf@gmx.de>, 2012-2013
+# mar well <m.wellendorf@gmx.de>, 2014
 # csslayer <wengxt@gmail.com>, 2013
 # csslayer <wengxt@gmail.com>, 2013
 msgid ""
 msgstr ""
 "Project-Id-Version: fcitx\n"
 "Report-Msgid-Bugs-To: fcitx-dev@googlegroups.com\n"
-"POT-Creation-Date: 2014-08-13 06:04+0200\n"
-"PO-Revision-Date: 2014-08-12 22:06+0000\n"
-"Last-Translator: csslayer <wengxt@gmail.com>\n"
+"POT-Creation-Date: 2014-12-09 12:01+0100\n"
+"PO-Revision-Date: 2014-12-09 10:01+0000\n"
+"Last-Translator: mar well <m.wellendorf@gmx.de>\n"
 "Language-Team: German (http://www.transifex.com/projects/p/fcitx/language/"
 "de/)\n"
 "Language: de\n"
@@ -27,15 +28,15 @@ msgstr " Ctrl+Delete zum Löschen"
 
 #: data/script/fcitx-diagnose.sh:843
 msgid "${1} Environment Variables:"
-msgstr ""
+msgstr "${1} Umgebungsvariablen:"
 
 #: data/script/fcitx-diagnose.sh:852
 msgid "${1} is not set."
-msgstr ""
+msgstr "${1} ist nicht gesetzt."
 
 #: data/script/fcitx-diagnose.sh:849
 msgid "${1} is set to ${2}."
-msgstr ""
+msgstr "${1} ist auf ${2} eingestellt."
 
 #: data/script/fcitx-diagnose.sh:509
 msgid "${1} not found."
@@ -106,7 +107,7 @@ msgstr "/Hinweis_für_GNOME_höher_als_3.6"
 msgid "/XIM"
 msgstr "/XIM"
 
-#: src/lib/fcitx/ime.c:1772
+#: src/lib/fcitx/ime.c:1780
 msgid "/min  Time Used: "
 msgstr "/min Verwendete Zeit:"
 
@@ -487,7 +488,7 @@ msgstr "${2} für gtk ${1} kann nicht gefunden werden"
 
 #: src/im/pinyin/py.c:393
 msgid "Cannot find System Database of Pinyin!"
-msgstr ""
+msgstr "Die Datenbank für Pinyin kann nicht gefunden werden!"
 
 #: data/script/fcitx-diagnose.sh:1008
 msgid ""
@@ -558,6 +559,8 @@ msgstr "Kann  XMODIFIERS: ${1} nicht richtig interpretieren"
 #: src/ui/classic/skin.c:121
 msgid "Cannot load default skin, is installion correct?"
 msgstr ""
+"die Standardoberfläche kann nicht geladen werden, ist die Installation "
+"vollstädnig?"
 
 #: src/ui/classic/skin.c:126
 #, c-format
@@ -768,14 +771,14 @@ msgid "Configure"
 msgstr "Konfigurieren"
 
 #: src/module/notificationitem/dbusmenu.c:354 src/ui/classic/classicui.c:492
-#: src/ui/kimpanel/kimpanel.c:759
+#: src/ui/kimpanel/kimpanel.c:781
 msgid "Configure Current Input Method"
 msgstr "Aktuelle Eingabemethode konfigurieren"
 
 #: src/lib/fcitx-config/fcitx-config.c:894
 #, c-format
 msgid "Configure group name error: line %d"
-msgstr ""
+msgstr "Fehler in der Konfiguration des Gruppennamens: Zeile %d"
 
 #: tools/gui/quickphrase-editor/editor.cpp:334
 msgid "Confirm deletion"
@@ -824,7 +827,7 @@ msgstr "Name der aktivierten Eingabemethode"
 
 #: data/script/fcitx-diagnose.sh:832
 msgid "Current fcitx settings directory is ${1} (${2})."
-msgstr ""
+msgstr "Das gegenwärtige Fcitz Konfigurationsverzeichnis ist ${1} (${2})."
 
 #: src/module/imselector/imselector.c:312
 msgid "Current local input method is "
@@ -840,7 +843,7 @@ msgstr "Aktueller Benutzer:"
 
 #: data/script/fcitx-diagnose.sh:826
 msgid "Current value of ${1} is ${2} (${3})."
-msgstr ""
+msgstr "Die gegenwärtige Einstellung von ${1} ist ${2} (${3})."
 
 #: data/config.desc:35
 msgid "Custom"
@@ -914,7 +917,7 @@ msgstr "Dianbaoma"
 
 #: data/script/fcitx-diagnose.sh:812
 msgid "Directories:"
-msgstr ""
+msgstr "Verzeichnisse:"
 
 #: data/config.desc:192
 msgid "Disable Paging in Remind Mode"
@@ -927,10 +930,10 @@ msgstr "Symbol für Pinyin deaktivieren"
 #: src/lib/fcitx/addon.c:298
 #, c-format
 msgid "Disable addon %s, dependency %s cannot be satisfied."
-msgstr ""
+msgstr "Addon %s ausgeschaltet, die Abhängigkeit %s ist nicht erfüllt."
 
 #: src/module/notificationitem/notificationitem.c:460
-#: src/ui/kimpanel/kimpanel.c:259 src/ui/kimpanel/kimpanel.c:264
+#: src/ui/kimpanel/kimpanel.c:281 src/ui/kimpanel/kimpanel.c:286
 #: data/config.desc:34
 msgid "Disabled"
 msgstr "Ausgeschaltet"
@@ -984,6 +987,8 @@ msgstr ""
 #, c-format
 msgid "Duplicate group name, merge with the previous: %s :line %d"
 msgstr ""
+"Gruppenname doppelt vorhanden, wird mit dem vorherigen zusammengeführt: %s :"
+"Zeile %d"
 
 #: src/lib/fcitx-config/fcitx-config.c:968
 #, c-format
@@ -1052,7 +1057,7 @@ msgstr ""
 
 #: data/script/fcitx-diagnose.sh:818
 msgid "Environment variable ${1} is not set."
-msgstr ""
+msgstr "Umgebungsvariable ${1} ist nicht gesetzt."
 
 #: data/script/fcitx-diagnose.sh:1021
 msgid "Environment variable ${1} is set to \"${2}\" correctly."
@@ -1060,7 +1065,7 @@ msgstr "Die Umgebungsvariable ${1} ist richtig auf \"${2}\" gesetzt."
 
 #: data/script/fcitx-diagnose.sh:822
 msgid "Environment variable ${1} is set to ${2}."
-msgstr ""
+msgstr "Umgebungsvariable ${1} ist auf ${2} gesetzt."
 
 #: data/script/fcitx-diagnose.sh:777
 msgid "Environment:"
@@ -1127,13 +1132,13 @@ msgstr "In ${1} kein Eingabemethodencache gefunden"
 
 #: data/script/fcitx-diagnose.sh:1278
 msgid "Failed to find fcitx in the output of ${1}"
-msgstr ""
+msgstr "In der Ausgabe von ${1} wurde Fcitx nicht gefunden."
 
 #: data/addon.desc:72
 msgid "Fallback UI Addon"
 msgstr "Fallback UI Addon"
 
-#: src/ui/kimpanel/kimpanel.c:375 data/fcitx-autostart.desktop.in:2
+#: src/ui/kimpanel/kimpanel.c:397 data/fcitx-autostart.desktop.in:2
 #: data/fcitx.desktop.in:2
 msgid "Fcitx"
 msgstr "Fcitx"
@@ -1164,7 +1169,7 @@ msgstr "Fcitx Lua Unterstützung"
 
 #: data/script/fcitx-diagnose.sh:830
 msgid "Fcitx Settings Directory:"
-msgstr ""
+msgstr "Fcitx Konfigurationsverzeichnis:"
 
 #: src/ui/classic/fcitx-skin-installer.desktop.in:3
 msgid "Fcitx Skin Installer"
@@ -1247,7 +1252,7 @@ msgstr "Fontgröße"
 
 #: src/ui/classic/skin.desc:28
 msgid "Font sizes respect dpi setting"
-msgstr ""
+msgstr "Zeichengröße beachtet die dpi Einstellungen"
 
 #: src/module/xkb/fcitx-xkb.desc:10
 msgid ""
@@ -1347,11 +1352,11 @@ msgstr "Schnittstelle"
 msgid "Frontend Used by IM Modules"
 msgstr "Schnittstelle für IM Modules"
 
-#: src/lib/fcitx/frontend.c:533
+#: src/lib/fcitx/frontend.c:542
 msgid "Frontend: bad frontend"
 msgstr "Schnittstelle: Falsche Schnittstelle"
 
-#: src/lib/fcitx/frontend.c:521
+#: src/lib/fcitx/frontend.c:530
 #, c-format
 msgid "Frontend: open %s fail %s"
 msgstr "Schnittstelle: Öffnen von %s fehlgeschlagen %s"
@@ -1488,11 +1493,11 @@ msgstr "Hiragana"
 
 #: data/script/fcitx-diagnose.sh:814
 msgid "Home:"
-msgstr ""
+msgstr "Home Verzeichnis:"
 
 #: src/im/table/table.desc:123
 msgid "Horizontal"
-msgstr ""
+msgstr "Horizontal"
 
 #: data/config.desc:1 data/config.desc:7 data/config.desc:13
 #: data/config.desc:39 data/config.desc:46 data/config.desc:53
@@ -1623,7 +1628,7 @@ msgstr "Schriftgröße Eingabe"
 msgid "Input Message Color"
 msgstr "Farbe der Pinyineingabe"
 
-#: src/lib/fcitx/ime.c:1678 src/module/notificationitem/notificationitem.c:409
+#: src/lib/fcitx/ime.c:1682 src/module/notificationitem/notificationitem.c:409
 #: data/fcitx-autostart.desktop.in:3 data/fcitx.desktop.in:3
 msgid "Input Method"
 msgstr "Eingabemethode"
@@ -1633,7 +1638,7 @@ msgid "Input Method Configuration"
 msgstr "Konfiguration Eingabemethode"
 
 #: src/module/notificationitem/notificationitem.c:461
-#: src/ui/kimpanel/kimpanel.c:260 src/ui/kimpanel/kimpanel.c:265
+#: src/ui/kimpanel/kimpanel.c:282 src/ui/kimpanel/kimpanel.c:287
 msgid "Input Method Disabled"
 msgstr "Eingabemethode deaktiviert"
 
@@ -1650,7 +1655,7 @@ msgstr "Eingabemethodenbezogenen Umgebungsvariablen:"
 msgid "Input Methods:"
 msgstr "Eingabemethoden:"
 
-#: src/lib/fcitx/ime.c:1769
+#: src/lib/fcitx/ime.c:1777
 msgid "Input Speed: "
 msgstr "Eingabegeschwindigkeit"
 
@@ -2032,12 +2037,12 @@ msgstr "Keine"
 msgid "No available Input Method"
 msgstr "Keine verfügbare Eingabemethode"
 
-#: src/lib/fcitx/frontend.c:556
+#: src/lib/fcitx/frontend.c:565
 msgid "No available frontend"
 msgstr "Keine Schnittstelle verfügbar"
 
 #: src/module/notificationitem/notificationitem.c:454
-#: src/ui/kimpanel/kimpanel.c:241 src/ui/kimpanel/kimpanel.c:242
+#: src/ui/kimpanel/kimpanel.c:255 src/ui/kimpanel/kimpanel.c:256
 msgid "No input window"
 msgstr "Kein Eingabefenster"
 
@@ -2395,7 +2400,7 @@ msgstr "Konfiguration erneut laden"
 
 #: src/im/table/table.c:1287
 msgid "Remind:"
-msgstr ""
+msgstr "Beachte:"
 
 #: src/im/pinyin/py.c:2059
 msgid "Remind: "
@@ -2440,7 +2445,7 @@ msgid "Resize Margin Top"
 msgstr "Korrektur Größe Rand oben"
 
 #: src/module/notificationitem/dbusmenu.c:367 src/ui/classic/classicui.c:494
-#: src/ui/kimpanel/kimpanel.c:764
+#: src/ui/kimpanel/kimpanel.c:786
 msgid "Restart"
 msgstr "Neustart"
 
@@ -2472,7 +2477,7 @@ msgstr "Regel Darstellung der Liste häufiger Wörter"
 
 #: data/script/fcitx-diagnose.sh:859
 msgid "Running as root:"
-msgstr ""
+msgstr "Als Root ausgeführt:"
 
 #: src/module/vk/vk.c:54
 msgid "Russian"
@@ -2556,7 +2561,7 @@ msgstr "Eingabemethode beibehalten"
 
 #: data/addon.desc:36
 msgid "SharedLibrary"
-msgstr ""
+msgstr "SharedLibrary"
 
 #: src/im/keyboard/fcitx-keyboard.desc:14 src/im/table/table.desc:148
 #: src/module/autoeng/fcitx-autoeng.desc:9
@@ -2935,7 +2940,7 @@ msgstr "Wechsel Vollbreite Interpunktion"
 msgid "Toggle Half/Full width Character"
 msgstr "Zwischen halb- und vollbreiten Zeichen wechseln"
 
-#: src/ui/kimpanel/kimpanel.c:756
+#: src/ui/kimpanel/kimpanel.c:778
 msgid "Toggle Input Method"
 msgstr "Wechsel Eingabemethode"
 
@@ -3164,7 +3169,7 @@ msgstr ""
 
 #: src/im/table/table.desc:122
 msgid "Vertical"
-msgstr ""
+msgstr "Vertikal"
 
 #: src/ui/classic/fcitx-classic-ui.desc:54
 msgid "Vertical Candidate Word List"
@@ -3297,6 +3302,8 @@ msgid ""
 "You are probably using ${1} to run this script. This means the result of "
 "this script may not be accurate. See ${2} for more information."
 msgstr ""
+"Sie benutzen wahrscheinlich ${1} um das Skript auszuführen. Das heißt, dass "
+"das Ergebnis des Skriptes falsch sein kann. Mehr Information hier: ${2}."
 
 #: data/script/fcitx-diagnose.sh:1108
 msgid "You are using xim in ${1} programs."
@@ -3342,6 +3349,10 @@ msgid ""
 "found, the package name is usually fcitx-config-gtk, fcitx-config-gtk3 or "
 "fcitx-configtool. Now it will open config file with default text editor."
 msgstr ""
+"Sie benutzen Fcitx mit Benutzeroberfläche, aber das fcitx-configtool konnte "
+"nicht gefunden werden. Der Paketname ist normalerweise fcitx-config-gtk, "
+"fcitx-config-gtk3 oder fcitx-configtool. Fcitx wird die Konfiguration nun "
+"mit einem Texteditor öffnen."
 
 #: data/script/fcitx-configtool.sh:133
 msgid ""
@@ -3401,7 +3412,7 @@ msgstr "Programm:"
 msgid "here"
 msgstr "hier"
 
-#: src/lib/fcitx/ime.c:1775
+#: src/lib/fcitx/ime.c:1783
 msgid "min Num of Characters: "
 msgstr "min Anzahl Zeichen:"
 
diff --git a/po/ja.po b/po/ja.po
index 98f4ba3..4b20d4b 100644
--- a/po/ja.po
+++ b/po/ja.po
@@ -5,11 +5,13 @@
 # Translators:
 # しろう, 2013
 # しろう <>, 2013
-# AWASHIRO Ikuya <ikunya@gmail.com>, 2014
+# AWASHIRO Ikuya <ikunya@gmail.com>, 2013-2015
+# csslayer <wengxt@gmail.com>, 2013
 # AWASHIRO Ikuya <ikunya@gmail.com>, 2013
 # AWASHIRO Ikuya <ikunya@gmail.com>, 2012-2013
 # ISHIKAWA Mutsumi <ishikawa@hanzubon.jp>, 2014
 # mongrelP＠一応求職中 木村 <kimi.nicoco@gmail.com>, 2012
+# usingsystem8 <yuta.ooka@gmail.com>, 2013
 # WAKAYAMA Shirou <shirou.faw@gmail.com>, 2013
 # csslayer <wengxt@gmail.com>, 2013
 # csslayer <wengxt@gmail.com>, 2013
@@ -18,8 +20,8 @@ msgid ""
 msgstr ""
 "Project-Id-Version: fcitx\n"
 "Report-Msgid-Bugs-To: fcitx-dev@googlegroups.com\n"
-"POT-Creation-Date: 2014-09-12 12:02+0200\n"
-"PO-Revision-Date: 2014-09-12 06:41+0000\n"
+"POT-Creation-Date: 2015-03-04 06:02+0100\n"
+"PO-Revision-Date: 2015-03-04 00:01+0000\n"
 "Last-Translator: AWASHIRO Ikuya <ikunya@gmail.com>\n"
 "Language-Team: Japanese (http://www.transifex.com/projects/p/fcitx/language/"
 "ja/)\n"
@@ -116,7 +118,7 @@ msgstr "/XIM"
 
 #: src/lib/fcitx/ime.c:1780
 msgid "/min  Time Used: "
-msgstr ""
+msgstr "/分 使用時間: "
 
 #: src/module/autoeng/fcitx-autoeng.desc:31
 msgid "0 for commit immediately, -1 for keep all words"
@@ -192,7 +194,7 @@ msgstr "選択中メニューアイテムの文字色"
 
 #: src/ui/classic/skin.desc:81
 msgid "Active Mode Icon"
-msgstr "有効なモードのアイコン"
+msgstr "有効時のモードのアイコン"
 
 #: src/ui/classic/skin.desc:172
 msgid "Active Text Icon Color"
@@ -200,7 +202,7 @@ msgstr "有効なテキストアイコンの色"
 
 #: src/ui/classic/skin.desc:309
 msgid "Active Tray Icon"
-msgstr "有効なトレイアイコン"
+msgstr "有効時のトレイアイコン"
 
 #: src/module/autoeng/fcitx-autoeng.desc:37
 msgid "Add Extra space when selecting a candidate word"
@@ -224,7 +226,7 @@ msgstr "ユニコード入力対応を追加します"
 
 #: src/im/keyboard/fcitx-keyboard.desc:44
 msgid "Add current input buffer to user dictionary"
-msgstr "現在の入力バッファーをユーザー辞書に追加"
+msgstr "現在の入力バッファをユーザー辞書に追加"
 
 #: data/addon.desc:1 data/addon.desc:5 data/addon.desc:10 data/addon.desc:15
 #: data/addon.desc:24 data/addon.desc:29 data/addon.desc:33 data/addon.desc:40
@@ -275,7 +277,7 @@ msgstr "すべて"
 
 #: data/script/fcitx-diagnose.sh:1223
 msgid "All found Gtk ${1} immodule files exist."
-msgstr "見つけたGtk ${1} IMモジュールファイルはすべて存在します。"
+msgstr "見つかった Gtk ${1} IMモジュールファイルはすべて存在します。"
 
 #: data/script/fcitx-diagnose.sh:1484
 msgid "All libraries for all addons are found."
@@ -542,7 +544,7 @@ msgstr "アドオン ${2} の ${1} が要求するライブラリが見つかり
 
 #: data/script/fcitx-diagnose.sh:1367
 msgid "Cannot find immodules cache for gtk ${1}"
-msgstr ""
+msgstr "gtk ${1} 用の immodule キャッシュが見つかりません"
 
 #: data/script/fcitx-diagnose.sh:1506
 msgid ""
@@ -585,7 +587,7 @@ msgstr "カテゴリ"
 #: src/ui/classic/skin.desc:132 src/ui/classic/skin.desc:238
 #: src/ui/classic/skin.desc:368
 msgid "Center"
-msgstr "真ん中"
+msgstr "中央"
 
 #: src/ui/classic/skin.desc:131 src/ui/classic/skin.desc:237
 #: src/ui/classic/skin.desc:367
@@ -920,7 +922,7 @@ msgstr "Dianbaoma"
 
 #: data/script/fcitx-diagnose.sh:812
 msgid "Directories:"
-msgstr ""
+msgstr "ディレクトリ:"
 
 #: data/config.desc:192
 msgid "Disable Paging in Remind Mode"
@@ -1034,7 +1036,7 @@ msgstr "English (US)"
 
 #: src/ui/classic/skin.desc:77
 msgid "English Mode Icon"
-msgstr "英語モードのアイコン"
+msgstr "英語モード時のアイコン"
 
 #: src/lib/fcitx-config/fcitx-config.c:400
 msgid "Enum Option is invalid, take it as string"
@@ -1058,7 +1060,7 @@ msgstr ""
 
 #: data/script/fcitx-diagnose.sh:818
 msgid "Environment variable ${1} is not set."
-msgstr ""
+msgstr "環境変数 ${1} がセットされていません。"
 
 #: data/script/fcitx-diagnose.sh:1021
 msgid "Environment variable ${1} is set to \"${2}\" correctly."
@@ -1169,7 +1171,7 @@ msgstr "FcitxのLua サポート"
 
 #: data/script/fcitx-diagnose.sh:830
 msgid "Fcitx Settings Directory:"
-msgstr ""
+msgstr "Fcitx の設定ディレクトリ:"
 
 #: src/ui/classic/fcitx-skin-installer.desktop.in:3
 msgid "Fcitx Skin Installer"
@@ -1252,7 +1254,7 @@ msgstr "フォントサイズ"
 
 #: src/ui/classic/skin.desc:28
 msgid "Font sizes respect dpi setting"
-msgstr ""
+msgstr "DPI設定に応じたフォントサイズ補正"
 
 #: src/module/xkb/fcitx-xkb.desc:10
 msgid ""
@@ -1331,7 +1333,7 @@ msgstr "未知の gtk 用の immodules キャッシュを ${1} に見つけま
 
 #: data/script/fcitx-diagnose.sh:1340
 msgid "Found immodules cache for gtk ${1} at ${2}."
-msgstr ""
+msgstr "gtk ${1} の immodule cache を$ {2} に見つけました。"
 
 #: data/script/fcitx-diagnose.sh:1157
 msgid "Found unknown fcitx qt module: ${1}."
@@ -1490,7 +1492,7 @@ msgstr "ひらがな"
 
 #: data/script/fcitx-diagnose.sh:814
 msgid "Home:"
-msgstr ""
+msgstr "ホーム:"
 
 #: src/im/table/table.desc:123
 msgid "Horizontal"
@@ -1603,7 +1605,7 @@ msgstr "クリップボード履歴で現在選択されているテキストを
 
 #: src/ui/classic/skin.desc:313
 msgid "Inctive Tray Icon"
-msgstr "無効なトレイアイコン"
+msgstr "無効時のトレイアイコン"
 
 #: src/module/vk/vk.c:55
 msgid "Index"
@@ -1645,7 +1647,7 @@ msgstr "入力メソッド:"
 
 #: src/lib/fcitx/ime.c:1777
 msgid "Input Speed: "
-msgstr "入力スピード"
+msgstr "入力速度: "
 
 #: src/module/imselector/fcitx-imselector.conf.in:3
 msgid "Input method selector"
@@ -1756,7 +1758,7 @@ msgstr "FcitxのKimpanelサポート"
 
 #: data/script/fcitx-diagnose.sh:1498
 msgid "Kimpanel process:"
-msgstr ""
+msgstr "Kimpanel のプロセス:"
 
 #: data/config.desc:24
 msgid "L_ALT"
@@ -2031,7 +2033,7 @@ msgstr "入力ウィンドウなし"
 msgid "No local input method"
 msgstr "ローカル入力メソッドがありません"
 
-#: src/lib/fcitx/instance.c:286 src/lib/fcitx/instance.c:549
+#: src/lib/fcitx/instance.c:286 src/lib/fcitx/instance.c:552
 msgid "No remind"
 msgstr "リマインドなし"
 
@@ -2205,9 +2207,9 @@ msgid ""
 "Please set environment variable ${env_name} to \"${value}\" using the tool "
 "your distribution provides or add ${1} to your ${2}. See ${link}."
 msgstr ""
-"環境変数 ${env_name} をディストリビューションが提供するツールを使うか ${1} "
-"を ${2} に加えるかして \"${value}\" に設定してください。詳細は ${link} を参考"
-"にしてください。"
+"お使いのディストリビューションが用意しているツールで環境変数 ${env_name} に "
+"'${value}' を設定するか、直接${2} に ${1} を書き加えてください。詳しくは "
+"${link} を参照してください"
 
 #: src/ui/classic/skin.desc:265
 msgid "Position or offset of LookupTable"
@@ -2894,7 +2896,7 @@ msgid ""
 "${link1}. For other more general problems of using XIM including application "
 "freezing, see ${link2}."
 msgstr ""
-"ximを使っている場合、いくつかのアプリケーションが固有の問題を引き起こす場合が"
+"XIMを使っている場合、いくつかのアプリケーションが固有の問題を引き起こす場合が"
 "あります。 ${link1} を参照してください。 アプリケーションのフリーズを含むXIM"
 "による一般的な問題については ${link2} を参照してください。"
 
@@ -2911,7 +2913,7 @@ msgstr "全角/半角文字の切り替え"
 msgid "Toggle Input Method"
 msgstr "入力メソッドの切り替え"
 
-#: src/lib/fcitx/instance.c:287 src/lib/fcitx/instance.c:550
+#: src/lib/fcitx/instance.c:287 src/lib/fcitx/instance.c:553
 msgid "Toggle Remind"
 msgstr "リマインドの切り替え"
 
@@ -3036,7 +3038,7 @@ msgstr "代わりの候補単語番号を使用する"
 
 #: src/im/table/table.desc:183
 msgid "Use Alternative Key for paging"
-msgstr ""
+msgstr "ページ送りに別のキーを使用する"
 
 #: src/im/pinyin/fcitx-pinyin.desc:28
 msgid "Use Complete Pinyin"
@@ -3098,15 +3100,15 @@ msgstr "既存の文字列を確定するときに Enter を使う"
 msgid "Use extra trigger key only after using it to inactivate"
 msgstr "アクティブでない時だけその他のトリガーキーを使用する"
 
-#: src/lib/fcitx/instance.c:286 src/lib/fcitx/instance.c:549
+#: src/lib/fcitx/instance.c:286 src/lib/fcitx/instance.c:552
 msgid "Use remind"
 msgstr "リマインドを使用"
 
 #: src/module/xkb/fcitx-xkb.desc:9
 msgid "Use the layout of first keyboard input method in list as default layout"
 msgstr ""
-"リストの最初のキーボードインプットメソッドのレイアウトがディフォルトのレイア"
-"ウトとして使用されます。"
+"リストの最初のキーボードインプットメソッドのレイアウトが既定のレイアウトとし"
+"て使用されます。"
 
 #: src/module/remote/fcitx-remote-module.conf.in:4
 msgid "Used by fcitx-remote to change Fcitx state from console"
@@ -3233,21 +3235,21 @@ msgstr "XiaoHe"
 
 #: src/frontend/xim/fcitx-xim.desc:1
 msgid "Xim"
-msgstr "Xim"
+msgstr "XIM"
 
 #: data/script/fcitx-diagnose.sh:1057
 msgid "Xim Server Name from Environment variable is ${1}."
-msgstr "環境変数から取得した Xim サーバー名は ${1} です。"
+msgstr "環境変数から取得した XIM サーバー名は ${1} です。"
 
 #: data/script/fcitx-diagnose.sh:1069
 msgid "Xim server name is the same with that set in the environment variable."
-msgstr "Xim サーバー名は環境変数で設定されたものと同じです。"
+msgstr "XIM サーバー名は環境変数で設定されたものと同じです。"
 
 #: data/script/fcitx-diagnose.sh:1071
 msgid ""
 "Xim server name: \"${1}\" is different from that set in the environment "
 "variable: \"${2}\"."
-msgstr "Xim サーバー名: \"{1}\" は環境変数で設定された \"{2} と異なります。"
+msgstr "XIM サーバー名: \"{1}\" は環境変数で設定された \"{2} と異なります。"
 
 #: data/script/fcitx-diagnose.sh:867
 msgid ""
@@ -3264,7 +3266,7 @@ msgstr ""
 
 #: data/script/fcitx-diagnose.sh:1108
 msgid "You are using xim in ${1} programs."
-msgstr "xim を ${1} プログラムで使用しています。"
+msgstr "XIM を ${1} プログラムで使用しています。"
 
 #: data/script/fcitx-diagnose.sh:1545
 msgid "You don't have any input methods enabled."
@@ -3363,7 +3365,7 @@ msgstr "ここ"
 
 #: src/lib/fcitx/ime.c:1783
 msgid "min Num of Characters: "
-msgstr "最低文字数:"
+msgstr "分 文字数: "
 
 #: src/lib/fcitx-config/fcitx-config.c:1200
 #, c-format
@@ -3378,7 +3380,7 @@ msgstr "正しいフォントではありません"
 msgid "process:"
 msgstr "プロセス:"
 
-#: src/lib/fcitx/instance.c:525
+#: src/lib/fcitx/instance.c:528
 msgid "pthread mutex init failed"
 msgstr "pthread の mutex 初期化に失敗しました"
 
diff --git a/src/lib/fcitx-config/hotkey.c b/src/lib/fcitx-config/hotkey.c
index baa5722..6446654 100644
--- a/src/lib/fcitx-config/hotkey.c
+++ b/src/lib/fcitx-config/hotkey.c
@@ -618,16 +618,24 @@ char* FcitxHotkeyGetReadableKeyString(FcitxKeySym sym, unsigned int state)
     char *str;
     size_t len = 0;
 
-    if (state & FcitxKeyState_Ctrl)
+    if ((state & FcitxKeyState_Ctrl) &&
+        sym != FcitxKey_Control_R &&
+        sym != FcitxKey_Control_L)
         len += strlen("Ctrl+");
 
-    if (state & FcitxKeyState_Alt)
+    if ((state & FcitxKeyState_Alt) &&
+        sym != FcitxKey_Alt_R &&
+        sym != FcitxKey_Alt_L)
         len += strlen("Alt+");
 
-    if (state & FcitxKeyState_Shift)
+    if ((state & FcitxKeyState_Shift) &&
+        sym != FcitxKey_Shift_R &&
+        sym != FcitxKey_Shift_L)
         len += strlen("Shift+");
 
-    if (state & FcitxKeyState_Super)
+    if ((state & FcitxKeyState_Super) &&
+        sym != FcitxKey_Super_L &&
+        sym != FcitxKey_Super_R)
         len += strlen("Super+");
 
     if (sym == FcitxKey_ISO_Left_Tab)
@@ -642,16 +650,24 @@ char* FcitxHotkeyGetReadableKeyString(FcitxKeySym sym, unsigned int state)
 
     str = fcitx_utils_malloc0(sizeof(char) * (len + keylen + 1));
 
-    if (state & FcitxKeyState_Ctrl)
+    if ((state & FcitxKeyState_Ctrl) &&
+        sym != FcitxKey_Control_R &&
+        sym != FcitxKey_Control_L)
         strcat(str, "Ctrl+");
 
-    if (state & FcitxKeyState_Alt)
+    if ((state & FcitxKeyState_Alt) &&
+        sym != FcitxKey_Alt_R &&
+        sym != FcitxKey_Alt_L)
         strcat(str, "Alt+");
 
-    if (state & FcitxKeyState_Shift)
+    if ((state & FcitxKeyState_Shift) &&
+        sym != FcitxKey_Shift_R &&
+        sym != FcitxKey_Shift_L)
         strcat(str, "Shift+");
 
-    if (state & FcitxKeyState_Super)
+    if ((state & FcitxKeyState_Super) &&
+        sym != FcitxKey_Super_L &&
+        sym != FcitxKey_Super_R)
         strcat(str, "Super+");
 
     int i = 0;
diff --git a/src/lib/fcitx/instance.c b/src/lib/fcitx/instance.c
index 911a9c9..b6cfacc 100644
--- a/src/lib/fcitx/instance.c
+++ b/src/lib/fcitx/instance.c
@@ -290,6 +290,9 @@ void* RunInstance(void* arg)
     FcitxUILoad(instance);
 
     instance->iIMIndex = FcitxInstanceGetIMIndexByName(instance, instance->profile->imName);
+    if (instance->iIMIndex < 0) {
+        instance->iIMIndex = 0;
+    }
 
     FcitxInstanceSwitchIMByIndex(instance, instance->iIMIndex);
 
diff --git a/src/module/chttrans/chttrans-opencc.c b/src/module/chttrans/chttrans-opencc.c
index a6eb0cd..57ce03b 100644
--- a/src/module/chttrans/chttrans-opencc.c
+++ b/src/module/chttrans/chttrans-opencc.c
@@ -6,8 +6,13 @@
 #include <stdlib.h>
 #include <dlfcn.h>
 
-#define _OPENCC_DEFAULT_CONFIG_SIMP_TO_TRAD "zhs2zht.ini"
-#define _OPENCC_DEFAULT_CONFIG_TRAD_TO_SIMP "zht2zhs.ini"
+#define _OPENCC_DEFAULT_CONFIG_SIMP_TO_TRAD_OLD "zhs2zht.ini"
+#define _OPENCC_DEFAULT_CONFIG_TRAD_TO_SIMP_OLD "zht2zhs.ini"
+
+#define _OPENCC_DEFAULT_CONFIG_SIMP_TO_TRAD "s2t.json"
+#define _OPENCC_DEFAULT_CONFIG_TRAD_TO_SIMP "t2s.json"
+
+
 static void* _opencc_handle = NULL;
 static void* (*_opencc_open)(const char* config_file) = NULL;
 static char* (*_opencc_convert_utf8)(void* opencc, const char* inbuf, size_t length) = NULL;
@@ -49,6 +54,23 @@ OpenCCInit(FcitxChttrans* transState)
         return false;
     transState->ods2t = _opencc_open(_OPENCC_DEFAULT_CONFIG_SIMP_TO_TRAD);
     transState->odt2s = _opencc_open(_OPENCC_DEFAULT_CONFIG_TRAD_TO_SIMP);
+
+    if (transState->ods2t == (void*) -1) {
+        transState->ods2t = _opencc_open(_OPENCC_DEFAULT_CONFIG_SIMP_TO_TRAD_OLD);
+    }
+    if (transState->odt2s == (void*) -1) {
+        transState->odt2s = _opencc_open(_OPENCC_DEFAULT_CONFIG_TRAD_TO_SIMP_OLD);
+    }
+
+    // stupid opencc use -1 as failure
+    if (transState->ods2t == (void*) -1) {
+        transState->ods2t = NULL;
+    }
+
+    if (transState->odt2s == (void*) -1) {
+        transState->odt2s = NULL;
+    }
+
     if (!transState->ods2t && !transState->odt2s)
         return false;
     return true;
diff --git a/src/module/x11/x11stuff-internal.h b/src/module/x11/x11stuff-internal.h
index ec22970..c21657f 100644
--- a/src/module/x11/x11stuff-internal.h
+++ b/src/module/x11/x11stuff-internal.h
@@ -50,6 +50,7 @@ typedef struct {
     Atom windowTypeAtom;
     Atom typeDialogAtom;
     Atom typeDockAtom;
+    Atom typePopupMenuAtom;
     Atom pidAtom;
     Atom utf8Atom;
     Atom stringAtom;
diff --git a/src/module/x11/x11stuff.c b/src/module/x11/x11stuff.c
index 09aa97a..ad395fd 100644
--- a/src/module/x11/x11stuff.c
+++ b/src/module/x11/x11stuff.c
@@ -288,6 +288,7 @@ X11InitAtoms(FcitxX11 *x11priv)
         "_NET_WM_WINDOW_TYPE_MENU",
         "_NET_WM_WINDOW_TYPE_DIALOG",
         "_NET_WM_WINDOW_TYPE_DOCK",
+        "_NET_WM_WINDOW_TYPE_POPUP_MENU",
         "_NET_WM_PID",
         "UTF8_STRING",
         "STRING",
@@ -303,11 +304,12 @@ X11InitAtoms(FcitxX11 *x11priv)
     x11priv->typeMenuAtom = atoms_return[1];
     x11priv->typeDialogAtom = atoms_return[2];
     x11priv->typeDockAtom = atoms_return[3];
-    x11priv->pidAtom = atoms_return[4];
-    x11priv->utf8Atom = atoms_return[5];
-    x11priv->stringAtom = atoms_return[6];
-    x11priv->compTextAtom = atoms_return[7];
-    x11priv->compManagerAtom = atoms_return[8];
+    x11priv->typePopupMenuAtom = atoms_return[4];
+    x11priv->pidAtom = atoms_return[5];
+    x11priv->utf8Atom = atoms_return[6];
+    x11priv->stringAtom = atoms_return[7];
+    x11priv->compTextAtom = atoms_return[8];
+    x11priv->compManagerAtom = atoms_return[9];
 }
 
 static boolean
@@ -400,6 +402,9 @@ X11SetWindowProperty(FcitxX11 *x11priv, Window window, FcitxXWindowType type,
     case FCITX_WINDOW_DOCK:
         wintype = &x11priv->typeDockAtom;
         break;
+    case FCITX_WINDOW_POPUP_MENU:
+        wintype = &x11priv->typePopupMenuAtom;
+        break;
     case FCITX_WINDOW_MENU:
         wintype = &x11priv->typeMenuAtom;
         break;
diff --git a/src/module/x11/x11stuff.h b/src/module/x11/x11stuff.h
index 87cd446..f89812e 100644
--- a/src/module/x11/x11stuff.h
+++ b/src/module/x11/x11stuff.h
@@ -70,6 +70,7 @@ typedef struct _FcitxRect {
 typedef enum _FcitxXWindowType {
     FCITX_WINDOW_UNKNOWN,
     FCITX_WINDOW_DOCK,
+    FCITX_WINDOW_POPUP_MENU,
     FCITX_WINDOW_MENU,
     FCITX_WINDOW_DIALOG
 } FcitxXWindowType;
diff --git a/src/ui/classic/InputWindow.c b/src/ui/classic/InputWindow.c
index 1f7861c..3b14e1e 100644
--- a/src/ui/classic/InputWindow.c
+++ b/src/ui/classic/InputWindow.c
@@ -61,7 +61,7 @@ void InputWindowInit(InputWindow* inputWindow)
                         INPUTWND_HEIGHT,
                         0, 0,
                         "Fcitx Input Window",
-                        FCITX_WINDOW_DOCK,
+                        FCITX_WINDOW_POPUP_MENU,
                         &window->owner->skin.skinInputBar.background,
                         ButtonPressMask | ButtonReleaseMask  | PointerMotionMask | ExposureMask | LeaveWindowMask,
                         InputWindowMoveWindow,
