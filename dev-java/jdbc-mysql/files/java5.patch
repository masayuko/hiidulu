--- mysql-connector-java-5.1.7.orig/build.xml	2009-02-14 10:17:33.000000000 +0900
+++ mysql-connector-java-5.1.7/build.xml	2009-02-14 10:22:59.000000000 +0900
@@ -90,6 +90,19 @@
 
 		<pathelement location="${buildDir}/${fullProdName}" />
 	</path>
+
+	<path id="project.build.classpath5">
+		<fileset dir="${buildDir}/${fullProdName}/lib-nodist">
+			<include name="**/*.jar"/>
+		</fileset>
+
+		<fileset dir="${buildDir}/${fullProdName}/lib">
+			<include name="**/*.jar"/>
+		</fileset>
+
+		<pathelement location="${buildDir}/${fullProdName}" />
+		<pathelement location="${jsse5.jar}"/>
+	</path>
 		
 	<target name="-compiler-check">
 		<if>
@@ -714,6 +727,8 @@
 		<javac sourcepath="" srcdir="${buildDir}/${fullProdName}" 
 			destdir="${compiler.output}" 
 			deprecation="off" 
+			executable="${com.mysql.jdbc.java5.javac}"
+			bootclasspath="${com.mysql.jdbc.java5.rtjar}"
 			debug="${debug.enable}">
 			<include name="**/*.java" />
 			<exclude name="testsuite/**" />
@@ -722,7 +737,7 @@
 			<exclude name="**/JDBC4*.java" />
 			<exclude name="com/mysql/jdbc/exceptions/jdbc4/*" />
 			
-			<classpath refid="project.build.classpath" />
+			<classpath refid="project.build.classpath5" />
 		</javac>
 	</target>
 	
