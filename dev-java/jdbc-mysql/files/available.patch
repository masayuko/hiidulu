--- mysql-connector-java-5.1.7.orig/build.xml	2009-02-14 10:51:28.000000000 +0900
+++ mysql-connector-java-5.1.7/build.xml	2009-02-14 10:53:21.000000000 +0900
@@ -89,6 +89,8 @@
 		</fileset>
 
 		<pathelement location="${buildDir}/${fullProdName}" />
+		<pathelement location="${log4j.jar}"/>
+		<pathelement location="${c3p0.jar}"/>
 	</path>
 
 	<path id="project.build.classpath5">
@@ -153,16 +155,13 @@
 		
 		<available file="${com.mysql.jdbc.docs.sourceDir}" property="com.mysql.jdbc.docs.sourcesPresent" />
 
-		<available classname="com.mchange.v2.c3p0.QueryConnectionTester" 
-			classpathref="project.build.classpath" 
+		<available file="${c3p0.jar}"
 			property="com.mysql.jdbc.c3p0Present" />
 
-		<available classname="org.apache.log4j.Logger" 
-			classpathref="project.build.classpath" 
+		<available file="${log4j.jar}"
 			property="com.mysql.jdbc.log4jPresent" />
 
-		<available classname="org.jboss.resource.adapter.jdbc.ValidConnectionChecker" 
-			classpathref="project.build.classpath" 
+		<available file="${jboss.jar}"
 			property="com.mysql.jdbc.jbossPresent" />
 	</target>
 
